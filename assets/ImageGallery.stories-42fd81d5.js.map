{"version":3,"file":"ImageGallery.stories-42fd81d5.js","sources":["../../src/image-gallery/ImageGallery.tsx"],"sourcesContent":["import styles from \"./ImageGallery.module.css\";\nimport stylingPng from \"../stories/assets/styling.png\";\nimport { Image } from \"./Image\";\nimport React from \"react\";\n\nexport const ImageGallery = () => {\n  const [selectedIndex, setSelectedIndex] = React.useState<null | number>(null);\n  const dialogRef = React.useRef<HTMLDialogElement>(null);\n  const images = React.useMemo(\n    () =>\n      Array(100)\n        .fill(null)\n        .map((_, i) => {\n          return (\n            <Image\n              imageSrc={stylingPng}\n              aspectRatio={1}\n              onClick={() => setSelectedIndex(i)}\n              key={i}\n            />\n          );\n        }),\n    []\n  );\n  React.useEffect(() => {\n    if (selectedIndex === null) {\n      if (dialogRef.current?.open) {\n        dialogRef.current?.close();\n      }\n    } else {\n      if (!dialogRef.current?.open) {\n        dialogRef.current?.showModal();\n      }\n    }\n  }, [selectedIndex]);\n  const onClose = React.useCallback(() => {\n    setSelectedIndex(null);\n  }, []);\n  return (\n    <div>\n      <div className={styles.galleryGrid}>{images}</div>\n      <dialog ref={dialogRef} className={styles.modal} onClose={onClose}>\n        <div className={styles.modalTop}>\n          <button\n            className={styles.closeButton}\n            onClick={() => setSelectedIndex(null)}\n          >\n            Close\n          </button>\n        </div>\n        <Image imageSrc={stylingPng} />\n        <div className={styles.modalBottom}>\n          <div className={styles.modalDescription}>\n            <p>Opened {selectedIndex}</p>\n          </div>\n        </div>\n      </dialog>\n    </div>\n  );\n};\n"],"names":["ImageGallery","selectedIndex","setSelectedIndex","React","dialogRef","images","_","i","jsx","Image","stylingPng","_a","_b","_c","_d","onClose","styles","jsxs"],"mappings":"gQAKO,MAAMA,EAAe,IAAM,CAChC,KAAM,CAACC,EAAeC,CAAgB,EAAIC,EAAM,SAAwB,IAAI,EACtEC,EAAYD,EAAM,OAA0B,IAAI,EAChDE,EAASF,EAAM,QACnB,IACE,MAAM,GAAG,EACN,KAAK,IAAI,EACT,IAAI,CAACG,EAAGC,IAELC,EAAA,IAACC,EAAA,CACC,SAAUC,EACV,YAAa,EACb,QAAS,IAAMR,EAAiBK,CAAC,CAAA,EAC5BA,CAAA,CAGV,EACL,CAAC,CAAA,EAEHJ,EAAM,UAAU,IAAM,aAChBF,IAAkB,MAChBU,EAAAP,EAAU,UAAV,MAAAO,EAAmB,QACrBC,EAAAR,EAAU,UAAV,MAAAQ,EAAmB,UAGhBC,EAAAT,EAAU,UAAV,MAAAS,EAAmB,OACtBC,EAAAV,EAAU,UAAV,MAAAU,EAAmB,WAEvB,EACC,CAACb,CAAa,CAAC,EACZ,MAAAc,EAAUZ,EAAM,YAAY,IAAM,CACtCD,EAAiB,IAAI,CACvB,EAAG,CAAE,CAAA,EACL,cACG,MACC,CAAA,SAAA,CAAAM,EAAA,IAAC,MAAI,CAAA,UAAWQ,EAAO,YAAc,SAAOX,EAAA,SAC3C,SAAO,CAAA,IAAKD,EAAW,UAAWY,EAAO,MAAO,QAAAD,EAC/C,SAAA,CAACP,EAAA,IAAA,MAAA,CAAI,UAAWQ,EAAO,SACrB,SAAAR,EAAA,IAAC,SAAA,CACC,UAAWQ,EAAO,YAClB,QAAS,IAAMd,EAAiB,IAAI,EACrC,SAAA,OAAA,CAAA,EAGH,EACAM,EAAAA,IAACC,EAAM,CAAA,SAAUC,CAAY,CAAA,EAC7BF,EAAA,IAAC,MAAI,CAAA,UAAWQ,EAAO,YACrB,SAACR,MAAA,MAAA,CAAI,UAAWQ,EAAO,iBACrB,SAAAC,EAAAA,KAAC,IAAE,CAAA,SAAA,CAAA,UAAQhB,CAAA,CAAc,CAAA,CAC3B,CAAA,EACF,CAAA,EACF,CACF,CAAA,CAAA,CAEJ"}